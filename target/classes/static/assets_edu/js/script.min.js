$(function(){document.getElementById("play").addEventListener("click",function(){window.location.href="/game"}),document.getElementById("explore").addEventListener("click",function(){window.location.href="/explore"}),document.getElementById("educate").addEventListener("click",function(){window.location.href="/educate"})});class StickyNavigation{constructor(){this.currentId=null,this.currentTab=null,this.tabContainerHeight=70;let e=this;$(".et-hero-tab").click(function(){e.onTabClick(event,$(this))}),$(window).scroll(()=>{this.onScroll()}),$(window).resize(()=>{this.onResize()})}onTabClick(e,t){e.preventDefault();let o=$(t.attr("href")).offset().top-this.tabContainerHeight+1;$("html, body").animate({scrollTop:o},600)}onScroll(){this.checkTabContainerPosition(),this.findCurrentTabSelector()}onResize(){this.currentId&&this.setSliderCss()}checkTabContainerPosition(){let e=$(".et-hero-tabs").offset().top+$(".et-hero-tabs").height()-this.tabContainerHeight;$(window).scrollTop()>e?$(".et-hero-tabs-container").addClass("et-hero-tabs-container--top"):$(".et-hero-tabs-container").removeClass("et-hero-tabs-container--top")}findCurrentTabSelector(e){let t,o,a=this;$(".et-hero-tab").each(function(){let e=$(this).attr("href"),i=$(e).offset().top-a.tabContainerHeight,s=$(e).offset().top+$(e).height()-a.tabContainerHeight;$(window).scrollTop()>i&&$(window).scrollTop()<s&&(t=e,o=$(this))}),this.currentId==t&&null!==this.currentId||(this.currentId=t,this.currentTab=o,this.setSliderCss())}setSliderCss(){let e=0,t=0;this.currentTab&&(e=this.currentTab.css("width"),t=this.currentTab.offset().left),$(".et-hero-tab-slider").css("width",e),$(".et-hero-tab-slider").css("left",t)}}function toHome(){window.location.href="index"}new StickyNavigation,$(function(){$(".data-scroll").on("click",function(e){e.preventDefault(),$("html, body").animate({scrollTop:$($(this).attr("href")).offset().top},500,"linear")})});var scene,camera,fieldOfView,aspectRatio,nearPlane,farPlane,HEIGHT,WIDTH,renderer,container,hemispshereLight,shadowLight,Colors={red:15881030,yellow:15592231,white:14209233,brown:5845806,pink:16095342,brownDark:2300175,blue:6865856,green:4555336,purple:5577355,lightgreen:6460005};function createScene(){HEIGHT=window.innerHeight,WIDTH=window.innerWidth,(scene=new THREE.Scene).fog=new THREE.Fog(16243114,100,950),aspectRatio=WIDTH/HEIGHT,fieldOfView=60,nearPlane=1,farPlane=1e4,(camera=new THREE.PerspectiveCamera(fieldOfView,aspectRatio,nearPlane,farPlane)).position.x=0,camera.position.y=150,camera.position.z=100,(renderer=new THREE.WebGLRenderer({alpha:!0,antialias:!0})).setSize(WIDTH,HEIGHT),renderer.shadowMap.enabled=!0,(container=document.getElementById("world")).appendChild(renderer.domElement),window.addEventListener("resize",handleWindowResize,!1)}function handleWindowResize(){HEIGHT=window.innerHeight,WIDTH=window.innerWidth,renderer.setSize(WIDTH,HEIGHT),camera.aspect=WIDTH/HEIGHT,camera.updateProjectionMatrix()}function createLights(){hemisphereLight=new THREE.HemisphereLight(11184810,0,.9),(shadowLight=new THREE.DirectionalLight(16777215,.9)).position.set(0,350,350),shadowLight.castShadow=!0,shadowLight.shadow.camera.left=-650,shadowLight.shadow.camera.right=650,shadowLight.shadow.camera.top=650,shadowLight.shadow.camera.bottom=-650,shadowLight.shadow.camera.near=1,shadowLight.shadow.camera.far=1e3,shadowLight.shadow.mapSize.width=2048,shadowLight.shadow.mapSize.height=2048,scene.add(hemisphereLight),scene.add(shadowLight)}Land=function(){var e=new THREE.CylinderGeometry(600,600,1700,40,10);e.applyMatrix((new THREE.Matrix4).makeRotationX(-Math.PI/2));var t=new THREE.MeshPhongMaterial({color:Colors.lightgreen,shading:THREE.FlatShading});this.mesh=new THREE.Mesh(e,t),this.mesh.receiveShadow=!0},Orbit=function(){var e=new THREE.Object3D;this.mesh=e},Sun=function(){this.mesh=new THREE.Object3D;var e=new THREE.SphereGeometry(400,20,10),t=new THREE.MeshPhongMaterial({color:Colors.yellow,shading:THREE.FlatShading}),o=new THREE.Mesh(e,t);o.castShadow=!1,o.receiveShadow=!1,this.mesh.add(o)},Cloud=function(){this.mesh=new THREE.Object3D;for(var e=new THREE.DodecahedronGeometry(20,0),t=new THREE.MeshPhongMaterial({color:Colors.white}),o=3+Math.floor(3*Math.random()),a=0;a<o;a++){var i=new THREE.Mesh(e,t);i.position.x=15*a,i.position.y=10*Math.random(),i.position.z=10*Math.random(),i.rotation.z=Math.random()*Math.PI*2,i.rotation.y=Math.random()*Math.PI*.5;var s=.1+.9*Math.random();i.scale.set(s,s,s),this.mesh.add(i)}},Sky=function(){this.mesh=new THREE.Object3D,this.nClouds=25;for(var e=2*Math.PI/this.nClouds,t=0;t<this.nClouds;t++){var o=new Cloud,a=e*t,i=800+200*Math.random();o.mesh.position.y=Math.sin(a)*i*4/5,o.mesh.position.x=Math.cos(a)*i,o.mesh.rotation.z=a+Math.PI/2,o.mesh.position.z=-400-400*Math.random();var s=1+2*Math.random();o.mesh.scale.set(s,s,s),this.mesh.add(o.mesh)}},Tree=function(){this.mesh=new THREE.Object3D;var e=new THREE.MeshPhongMaterial({color:Colors.green,shading:THREE.FlatShading}),t=new THREE.BoxGeometry(10,20,10),o=new THREE.MeshBasicMaterial({color:Colors.brown}),a=new THREE.Mesh(t,o);a.castShadow=!0,a.receiveShadow=!0,this.mesh.add(a);var i=new THREE.CylinderGeometry(1,36,36,4),s=new THREE.Mesh(i,e);s.castShadow=!0,s.receiveShadow=!0,s.position.y=20,this.mesh.add(s);var n=new THREE.CylinderGeometry(1,27,27,4),r=new THREE.Mesh(n,e);r.castShadow=!0,r.position.y=40,r.receiveShadow=!0,this.mesh.add(r);var h=new THREE.CylinderGeometry(1,18,18,4),d=new THREE.Mesh(h,e);d.castShadow=!0,d.position.y=55,d.receiveShadow=!0,this.mesh.add(d)},Flower=function(){this.mesh=new THREE.Object3D;var e=new THREE.BoxGeometry(5,50,5,1,1,1),t=new THREE.MeshPhongMaterial({color:Colors.green,shading:THREE.FlatShading}),o=new THREE.Mesh(e,t);o.castShadow=!1,o.receiveShadow=!0,this.mesh.add(o);var a=new THREE.BoxGeometry(10,10,10,1,1,1),i=new THREE.MeshPhongMaterial({color:Colors.yellow,shading:THREE.FlatShading});petalCore=new THREE.Mesh(a,i),petalCore.castShadow=!1,petalCore.receiveShadow=!0;var s=petalColors[Math.floor(3*Math.random())],n=new THREE.BoxGeometry(15,20,5,1,1,1),r=new THREE.MeshBasicMaterial({color:s});n.vertices[5].y-=4,n.vertices[4].y-=4,n.vertices[7].y+=4,n.vertices[6].y+=4,n.translate(12.5,0,3);for(var h=[],d=0;d<4;d++)h[d]=new THREE.Mesh(n,r),h[d].rotation.z=d*Math.PI/2,h[d].castShadow=!0,h[d].receiveShadow=!0;petalCore.add(h[0],h[1],h[2],h[3]),petalCore.position.y=25,petalCore.position.z=3,this.mesh.add(petalCore)};var petalColors=[Colors.red,Colors.yellow,Colors.blue];Forest=function(){this.mesh=new THREE.Object3D,this.nTrees=300;for(var e=2*Math.PI/this.nTrees,t=0;t<this.nTrees;t++){var o=new Tree,a=e*t,i=605;o.mesh.position.y=Math.sin(a)*i,o.mesh.position.x=Math.cos(a)*i,o.mesh.rotation.z=a+Math.PI/2*3,o.mesh.position.z=0-600*Math.random();var s=.3+.75*Math.random();o.mesh.scale.set(s,s,s),this.mesh.add(o.mesh)}this.nFlowers=350;for(e=2*Math.PI/this.nFlowers,t=0;t<this.nFlowers;t++){var n=new Flower;a=e*t,i=605;n.mesh.position.y=Math.sin(a)*i,n.mesh.position.x=Math.cos(a)*i,n.mesh.rotation.z=a+Math.PI/2*3,n.mesh.position.z=0-600*Math.random();s=.1+.3*Math.random();n.mesh.scale.set(s,s,s),this.mesh.add(n.mesh)}};var sky,forest,land,orbit,airplane,sun,fox,AirPlane=function(){this.mesh=new THREE.Object3D;var e=new THREE.BoxGeometry(80,50,50,1,1,1),t=new THREE.MeshPhongMaterial({color:Colors.red,shading:THREE.FlatShading});e.vertices[4].y-=10,e.vertices[4].z+=20,e.vertices[5].y-=10,e.vertices[5].z-=20,e.vertices[6].y+=30,e.vertices[6].z+=20,e.vertices[7].y+=30,e.vertices[7].z-=20;var o=new THREE.Mesh(e,t);o.castShadow=!0,o.receiveShadow=!0,this.mesh.add(o);var a=new THREE.BoxGeometry(20,50,50,1,1,1),i=new THREE.MeshPhongMaterial({color:Colors.white,shading:THREE.FlatShading}),s=new THREE.Mesh(a,i);s.position.x=40,s.castShadow=!0,s.receiveShadow=!0,this.mesh.add(s);var n=new THREE.BoxGeometry(15,20,5,1,1,1),r=new THREE.MeshPhongMaterial({color:Colors.red,shading:THREE.FlatShading}),h=new THREE.Mesh(n,r);h.position.set(-35,25,0),h.castShadow=!0,h.receiveShadow=!0,this.mesh.add(h);var d=new THREE.BoxGeometry(40,4,150,1,1,1),l=new THREE.MeshPhongMaterial({color:Colors.red,shading:THREE.FlatShading}),c=new THREE.Mesh(d,l),E=new THREE.Mesh(d,l);c.castShadow=!0,c.receiveShadow=!0,E.castShadow=!0,E.receiveShadow=!0,c.position.set(20,12,0),E.position.set(20,-3,0),this.mesh.add(c),this.mesh.add(E);var w=new THREE.BoxGeometry(3,15,20,1,1,1),m=new THREE.MeshPhongMaterial({color:Colors.white,transparent:!0,opacity:.3,shading:THREE.FlatShading}),T=new THREE.Mesh(w,m);T.position.set(5,27,0),T.castShadow=!0,T.receiveShadow=!0,this.mesh.add(T);var H=new THREE.BoxGeometry(20,10,10,1,1,1);H.vertices[4].y-=5,H.vertices[4].z+=5,H.vertices[5].y-=5,H.vertices[5].z-=5,H.vertices[6].y+=5,H.vertices[6].z+=5,H.vertices[7].y+=5,H.vertices[7].z-=5;var p=new THREE.MeshPhongMaterial({color:Colors.brown,shading:THREE.FlatShading});this.propeller=new THREE.Mesh(H,p),this.propeller.castShadow=!0,this.propeller.receiveShadow=!0;var R=new THREE.BoxGeometry(1,100,10,1,1,1),v=new THREE.BoxGeometry(1,10,100,1,1,1),g=new THREE.MeshPhongMaterial({color:Colors.brownDark,shading:THREE.FlatShading}),M=new THREE.Mesh(R,g);M.position.set(8,0,0),M.castShadow=!0,M.receiveShadow=!0;var y=new THREE.Mesh(v,g);y.position.set(8,0,0),y.castShadow=!0,y.receiveShadow=!0,this.propeller.add(M,y),this.propeller.position.set(50,0,0),this.mesh.add(this.propeller);var S=new THREE.BoxGeometry(30,15,10,1,1,1),f=new THREE.MeshPhongMaterial({color:Colors.white,shading:THREE.FlatShading}),u=new THREE.Mesh(S,f);u.position.set(25,-20,25),this.mesh.add(u);var z=new THREE.BoxGeometry(24,24,4),x=new THREE.MeshPhongMaterial({color:Colors.brownDark,shading:THREE.FlatShading}),C=new THREE.Mesh(z,x);C.position.set(25,-28,25);var b=new THREE.BoxGeometry(10,10,6),F=new THREE.MeshPhongMaterial({color:Colors.brown,shading:THREE.FlatShading}),P=new THREE.Mesh(b,F);C.add(P),this.mesh.add(C);var G=u.clone();G.position.z=-u.position.z,this.mesh.add(G);var B=C.clone();B.position.z=-C.position.z,this.mesh.add(B);var L=C.clone();L.scale.set(.5,.5,.5),L.position.set(-35,-5,0),this.mesh.add(L);var I=new THREE.BoxGeometry(4,20,4);I.applyMatrix((new THREE.Matrix4).makeTranslation(0,10,0));var $=new THREE.MeshPhongMaterial({color:Colors.red,shading:THREE.FlatShading}),k=new THREE.Mesh(I,$);k.position.set(-35,-5,0),k.rotation.z=-.3,this.mesh.add(k)},Fox=function(){this.mesh=new THREE.Object3D;var e=new THREE.MeshPhongMaterial({color:Colors.red,shading:THREE.FlatShading}),t=new THREE.BoxGeometry(100,50,50,1,1,1),o=new THREE.Mesh(t,e);o.castShadow=!0,o.receiveShadow=!0,this.mesh.add(o);var a=new THREE.BoxGeometry(50,60,70,1,1,1),i=new THREE.Mesh(a,e);i.position.x=60,i.castShadow=!0,i.receiveShadow=!0,this.mesh.add(i);var s=new THREE.BoxGeometry(40,55,50,1,1,1);this.head=new THREE.Mesh(s,e),this.head.position.set(80,35,0),this.head.castShadow=!0,this.head.receiveShadow=!0;var n=new THREE.BoxGeometry(40,30,30,1,1,1),r=new THREE.Mesh(n,e);n.vertices[0].y-=5,n.vertices[0].z+=5,n.vertices[1].y-=5,n.vertices[1].z-=5,n.vertices[2].y+=5,n.vertices[2].z+=5,n.vertices[3].y+=5,n.vertices[3].z-=5,r.castShadow=!0,r.receiveShadow=!0,r.position.set(30,0,0),this.head.add(r);var h=new THREE.BoxGeometry(10,15,20,1,1,1),d=new THREE.MeshPhongMaterial({color:Colors.brown,shading:THREE.FlatShading}),l=new THREE.Mesh(h,d);l.position.set(55,0,0),this.head.add(l);var c=new THREE.BoxGeometry(10,40,30,1,1,1),E=new THREE.Mesh(c,e);E.position.set(-10,40,-18),this.head.add(E),E.rotation.x=-Math.PI/10,c.vertices[1].z+=5,c.vertices[4].z+=5,c.vertices[0].z-=5,c.vertices[5].z-=5;var w=new THREE.BoxGeometry(10,10,20,1,1,1),m=new THREE.MeshPhongMaterial({color:Colors.white,shading:THREE.FlatShading}),T=new THREE.Mesh(w,m);T.position.set(0,25,0),E.add(T);var H=E.clone();H.position.z=-E.position.z,H.rotation.x=-E.rotation.x,this.head.add(H),this.mesh.add(this.head);var p=new THREE.BoxGeometry(80,40,40,2,1,1);p.vertices[4].y-=10,p.vertices[4].z+=10,p.vertices[5].y-=10,p.vertices[5].z-=10,p.vertices[6].y+=10,p.vertices[6].z+=10,p.vertices[7].y+=10,p.vertices[7].z-=10,this.tail=new THREE.Mesh(p,e),this.tail.castShadow=!0,this.tail.receiveShadow=!0;var R=new THREE.BoxGeometry(20,40,40,1,1,1),v=new THREE.MeshPhongMaterial({color:Colors.white,shading:THREE.FlatShading}),g=new THREE.Mesh(R,v);g.position.set(80,0,0),g.castShadow=!0,g.receiveShadow=!0,this.tail.add(g),this.tail.position.set(-40,10,0),p.translate(40,0,0),R.translate(10,0,0),this.tail.rotation.z=Math.PI/1.5,this.mesh.add(this.tail);var M=new THREE.BoxGeometry(20,60,20,1,1,1);this.legFR=new THREE.Mesh(M,e),this.legFR.castShadow=!0,this.legFR.receiveShadow=!0;var y=new THREE.BoxGeometry(20,20,20,1,1,1),S=new THREE.MeshPhongMaterial({color:Colors.white,shading:THREE.FlatShading}),f=new THREE.Mesh(y,S);f.position.set(0,0,0),f.castShadow=!0,f.receiveShadow=!0,this.legFR.add(f),this.legFR.position.set(70,-12,25),M.translate(0,40,0),y.translate(0,80,0),this.legFR.rotation.z=16,this.mesh.add(this.legFR),this.legFL=this.legFR.clone(),this.legFL.position.z=-this.legFR.position.z,this.legFL.rotation.z=-this.legFR.rotation.z,this.mesh.add(this.legFL),this.legBR=this.legFR.clone(),this.legBR.position.x=50-this.legFR.position.x,this.legBR.rotation.z=-this.legFR.rotation.z,this.mesh.add(this.legBR),this.legBL=this.legFL.clone(),this.legBL.position.x=50-this.legFL.position.x,this.legBL.rotation.z=-this.legFL.rotation.z,this.mesh.add(this.legBL)},mousePos={x:0,y:0},offSet=-600;function createSky(){(sky=new Sky).mesh.position.y=offSet,scene.add(sky.mesh)}function createLand(){(land=new Land).mesh.position.y=offSet,scene.add(land.mesh)}function createOrbit(){(orbit=new Orbit).mesh.position.y=offSet,orbit.mesh.rotation.z=-Math.PI/6,scene.add(orbit.mesh)}function createForest(){(forest=new Forest).mesh.position.y=offSet,scene.add(forest.mesh)}function createSun(){(sun=new Sun).mesh.scale.set(1,1,.3),sun.mesh.position.set(0,-30,-850),scene.add(sun.mesh)}function createPlane(){(airplane=new AirPlane).mesh.scale.set(.35,.35,.35),airplane.mesh.position.set(-40,110,-250),scene.add(airplane.mesh)}function createFox(){(fox=new Fox).mesh.scale.set(.35,.35,.35),fox.mesh.position.set(-40,110,-250),scene.add(fox.mesh)}function updatePlane(){var e=normalize(mousePos.y,-.75,.75,50,190),t=normalize(mousePos.x,-.75,.75,-100,-20);airplane.mesh.position.y+=.1*(e-airplane.mesh.position.y),airplane.mesh.position.x+=.1*(t-airplane.mesh.position.x),airplane.mesh.rotation.z=.0128*(e-airplane.mesh.position.y),airplane.mesh.rotation.x=.0064*(airplane.mesh.position.y-e),airplane.mesh.rotation.y=.0064*(airplane.mesh.position.x-t),airplane.propeller.rotation.x+=.3}function normalize(e,t,o,a,i){return a+(Math.max(Math.min(e,o),t)-t)/(o-t)*(i-a)}function loop(){land.mesh.rotation.z+=.005,orbit.mesh.rotation.z+=.001,sky.mesh.rotation.z+=.003,forest.mesh.rotation.z+=.005,updatePlane(),renderer.render(scene,camera),requestAnimationFrame(loop)}function handleMouseMove(e){var t=e.clientX/WIDTH*2-1,o=1-e.clientY/HEIGHT*2;mousePos={x:t,y:o}}function init(e){createScene(),createLights(),createPlane(),createOrbit(),createSun(),createLand(),createForest(),createSky(),document.addEventListener("mousemove",handleMouseMove,!1),loop()}window.addEventListener("load",init,!1);